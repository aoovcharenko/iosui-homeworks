## Pull request’s guideline
Мы переходим на сдачу домашних заданий через Pull Request, начиная с курса IOSUI Пользовательский интерфейс.

**Pull Request** — это запрос на вливание изменений из вашей ветки в основную ветку репозитория.

#### Для чего нужен Pull Request (далее PR)?
* Когда вы начнете работать в командах над каким-либо продуктом, чаще всего новый функционал будет попадать в приложение только после проверки вашего кода другими членами команды (code review).
* Это дисциплинирует писать хороший код, а главное — просматривать и редактировать решения самому. Когда вы разрабатываете какую-то функциональность в приложении, вы не всегда можете заметить недочеты, тогда как в Pull Request можно просмотреть весь написанный код. Если вам что-то не понравится в нем, вы внести правки до того, как эта функциональность попадет в основную ветку.

#### Ветки
Мы предлагаем вам использовать три типа веток:
1. В ветке `main` (старое название `master`) всегда хранятся только протестированные, готовые к релизу (или уже выложенные) версии программы. В нашем случае — проект, который получился после выполнения домашних заданий в конце модуля.
2. В develop предлагаем сохранять прогресс по домашним заданиям в процессе прохождения модуля. Для каждого модуля обучения создается ветка `develop-module-name`. Например, `develop-iosui`.
3. В feature работать над конкретными домашними работами внутри модуля. Например, `feature/iosui-1`.

**Как это использовать для домашних заданий?**
В рамках курса мы выполняем домашние задания в одном проекте, поэтому для всех заданий нужно сделать один репозиторий.

**Пошаговый алгоритм работы с гитом для сдачи домашних заданий:**
1. Ваши действия при начале работы с гитом для сдачи домашних заданий:
* Xcode умеет создавать локальный репозиторий при создании проекта сразу с веткой `main` и Initial commit. Создайте новый проект в Xcode, используйте шаблон App; назовите проект Navigation и отметьте галочкой "Create Git repository on my Mac"
* На GitHub создайте репозиторий и назовите его `ios-homeworks`; не устанавливаете галочки напротив пунктов "Создать README", "Добавить .gitignore" и т.д.
* Добавьте в папку с проектом файл .gitignore (точка в названии обязательна) c кодом из репозитория по [этой ссылке](https://github.com/github/gitignore/blob/master/Swift.gitignore).
* Добавьте репозиторий с GitHub к вашему локальному репозиторию, созданному Xcode, в качестве remote. Сделайте push ветки `main`.
Примечание: все следующие ветки будут создаваться от этой ветки.
2. От ветки `main` создайте ветку с названием модуля, например `develop-iosui`. И также как раньше делайте push. Это будет основная ветка для всех зачтенных домашний заданий в модуле.
3. Перед выполнением домашней работы от ветки `develop-iosui` создайте ветку с номером домашнего задания и именем модуля. Например, `feature/iosui-1` (это значит модуль iosui, задание 1) или `feature-iosui/1`.
4. Выполните домашнее задание в созданной ветке `feature/iosui-1`, сопровождая всю работу исчерпывающими коммитами и сделайте push изменений на github. Старайтесь делать меньше коммитов, каждый из них больше по объему.
5. Перейдите на github, далее на вкладку Pull Requests.
![](pic/1.png)
6. Выберите New Pull Request
![](pic/2.png)
7. Выберите ветки для создания запроса на PR.
В поле compare выберите вашу ветку с реализацией, например, `feature/iosui-1`.
В поле base выберите ветку, куда будете вливать свои изменения, в нашем случае это `develop-iosui`.
![](pic/3.png)
8. Прокрутите страницу вниз и просмотрите свой код еще раз: он должен быть чистым, не должно быть закомментированного кода, плохого форматирования и лишних отступов.
Если во время просмотра кода у вас появятся мысли по улучшению решения, то не спешите сдавать домашнее задание — вы можете внести изменения в проект, сделать коммит и пуш, а затем обновить страницу с PR на Github.
9. После проверки кода нажмите Create Pull Request, добавьте краткое писание, что и куда собираетесь влить. В комментарии можно добавить пояснение к работе (не обязательно). После этого снова нажмите Create Pull Request. 
10. Скопируйте ссылку на PR и отправьте ее во вложениях в домашней работе. 
11. При внесении изменения в код во время доработки задания нужно комиттить и пушить в ту же ветку `feature-iosui/1`, и ваши исправления появятся в PR автоматически. Не нужно создавать отдельный PR.
12. После зачета по домашней работе необходимо влить ветку `feature-iosui/1` в `develop-iosui`.
13. После завершения всех домашних работ в модуле влейте ветку модуля (в данном случае `develop-iosui`) в `main`.

**Примечание**

Не всегда задания последовательны, например, иногда можно начать следующее задание, до того как финализировано и добавлено решение для предыдущего. На реальной работе встречается во время одновременной работы команды над несколькими задачами :)

В таком случае у вас есть ветки от `develop-iosui` с первым домашним заданием `develop-iosui` -> `feature-iosui/1` и со вторым `develop-iosui` -> `feature-iosui/2`.

 **Что делать в таком случае? - Решение:**
 * Если вы получите зачет за первое домашнее задание до зачтения второго, вы сделаете merge в `develop-iosui` код первой домашки. После этого дифф между `develop-iosui`  и `feature-iosui/2` станет некорректным – словно в `feature-iosui/2` был удален код первого домашнего задания, так как эта ветка его не содержит. Произошло это от того, что она ветвилась от `develop-iosui` еще без первого задания.
 * Решение: после вливания `feature-iosui/1`  в `develop-iosui` необходимо сделать merge `develop-iosui` в `feature-iosui/2`. После этого дифф в пул реквесте со вторым домашним заданием снова будет содержать только решение второй домашней работы.

[Подробнее про работу Pull Requests](https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/about-pull-requests)

[Видеоинструкция по работе в терминале от аспиранта курса Алексея Бардина](https://youtu.be/o0RaC43uGPY)
